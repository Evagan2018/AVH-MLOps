project:

  debug: on

  packs:
    - pack: ARM::CMSIS
      # path: ../
    - pack: ARM::CMSIS_DFP
      # path: ../
    - pack: ARM::CMSIS-View@1.0.0
    - pack: tensorflow::flatbuffers@1.23.2
    - pack: tensorflow::gemmlowp@1.23.2
    - pack: tensorflow::tensorflow-lite-micro@1.23.2

  add-path:
    - ../Include/micro_speech

  define:
    - TF_LITE_STATIC_MEMORY: 1

  components:
    - component: CMSIS-View:Event Recorder&Semihosting
    - component: tensorflow::Data Exchange:Serialization:flatbuffers&tensorflow
    - component: tensorflow::Data Processing:Math:gemmlowp fixed-point&tensorflow
    - component: tensorflow::Machine Learning:TensorFlow:Testing

  groups:
    - group: TFL_main
      files:
        - file: ./micro_speech/audio_provider_mock.cc
        - file: ./micro_speech/command_responder.cc
        - file: ./micro_speech/feature_provider.cc
        - file: ./micro_speech/main.cc
        - file: ./micro_speech/main_functions.cc
        - file: ./micro_speech/recognize_commands.cc
    - group: TFL_data
      files:
        - file: ./micro_speech/testdata/yes_1000ms_audio_data.cc
        - file: ./micro_speech/testdata/no_1000ms_audio_data.cc
    - group: TFL_model
      files:
        - file: $lib(ML_Model)$

  layers:
    - layer: $Target-Layer$
